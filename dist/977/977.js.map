{"version":3,"file":"977/977.js","mappings":"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","sources":["webpack://chocolatestore/./src/features/forms/profile-form/profile-form.css?6102","webpack://chocolatestore/./src/features/forms/profile-form/profile-form.component.tsx","webpack://chocolatestore/./src/features/forms/utils/utils.ts","webpack://chocolatestore/./src/features/user/profile-dashboard/profile-components/change-email/change-email.css?41ec","webpack://chocolatestore/./src/features/user/profile-dashboard/profile-components/change-email/change-email.component.tsx","webpack://chocolatestore/./src/features/forms/profile-form/profile-form.css","webpack://chocolatestore/./src/features/user/profile-dashboard/profile-components/change-email/change-email.css"],"sourcesContent":["import api from \"!../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n            import content from \"!!../../../../node_modules/css-loader/dist/cjs.js!./profile-form.css\";\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nexport default content.locals || {};","import * as React from 'react';\nimport { useSelector } from 'react-redux';\nimport { selectUserErrors } from '../../user/selectors';\nimport './profile-form.css';\n\ntype FieldLabels = {\n  head: string;\n  labelx: string;\n  labely: string;\n  submit: string;\n};\n\ntype FieldInputs = {\n  type: string;\n  name: string;\n  pattern?: string;\n  required?: boolean;\n  title?: string;\n  minLength?: number;\n  maxLength?: number;\n  id?: string;\n  placeholder?: string;\n  disabled?: boolean;\n};\n\ntype InputArrayType = {\n  inputx: FieldInputs;\n  inputy: FieldInputs;\n};\n\nexport type FieldWarnings = {\n  statusCode?: string;\n  message: string;\n  error?: string;\n};\n\ntype FieldTypes = {\n  warning?: FieldWarnings;\n  labels: FieldLabels;\n  inputs: InputArrayType;\n};\n\ninterface IProfileForm {\n  fields: FieldTypes;\n  onSubmit: React.FormEventHandler<HTMLFormElement> | undefined;\n}\n\nexport function ProfileForm({ fields, onSubmit }: IProfileForm): JSX.Element {\n  const errors = useSelector(selectUserErrors);\n  const [warning, setWarning] = React.useState({\n    statusCode: '',\n    message: '',\n    error: '',\n  });\n  const [input, updateInput] = React.useState<{ [key: string]: string }>({});\n\n  function handleChange(event: React.ChangeEvent<HTMLInputElement>) {\n    const { name, value } = event.target;\n    updateInput({ ...input, [name]: value });\n\n    if (warning.message.length > 0 && value.length === 0) {\n      setWarning({ statusCode: '', message: '', error: '' });\n    }\n  }\n\n  return (\n    <form className='profile-form' onSubmit={onSubmit}>\n      <h1 id='profile-form__headlabel'>{fields.labels.head}</h1>\n      <label>{fields.labels.labelx}</label>\n      <input\n        type={fields.inputs.inputx.type}\n        name={fields.inputs.inputx.name}\n        id={fields.inputs.inputx.id}\n        placeholder={fields.inputs.inputx.placeholder}\n        minLength={fields.inputs.inputx.minLength}\n        maxLength={fields.inputs.inputx.maxLength}\n        disabled={fields.inputs.inputx.disabled}\n        pattern={fields.inputs.inputx.pattern}\n        title={fields.inputs.inputx.title}\n        required={fields.inputs.inputx.required}\n        onChange={handleChange}\n      />\n      <label>{fields.labels.labely}</label>\n      <input\n        type={fields.inputs.inputy.type}\n        name={fields.inputs.inputy.name}\n        id={fields.inputs.inputy.id}\n        placeholder={fields.inputs.inputy.placeholder}\n        disabled={fields.inputs.inputy.disabled}\n        pattern={fields.inputs.inputy.pattern}\n        minLength={fields.inputs.inputy.minLength}\n        maxLength={fields.inputs.inputy.maxLength}\n        title={fields.inputs.inputy.title}\n        required={fields.inputs.inputy.required}\n        onChange={handleChange}\n      />\n      <FormWarning message={errors ? (errors as FieldWarnings).message : ''} />\n      <button type='submit' disabled={false}>\n        {fields.labels.submit}\n      </button>\n    </form>\n  );\n}\n\nfunction FormWarning({ message }: FieldWarnings): JSX.Element {\n  return <p id='form-warning'>{message}</p>;\n}\n","import { CategoryDTO, ICategory } from '../../category/categorySlice';\n\ntype FormObject = {\n  [key: string]: string;\n};\n\nexport function handleForm(nodelist: HTMLFormControlsCollection): FormObject {\n  const list = Array.from(nodelist)\n    .filter(\n      (e) =>\n        e.nodeName === 'INPUT' ||\n        (e.nodeName === 'SELECT' && (e as HTMLSelectElement).multiple === false) ||\n        e.nodeName === 'TEXTAREA'\n    )\n    .map((e) => [\n      (e as HTMLInputElement).name,\n      (e as HTMLInputElement).type === 'file'\n        ? ((e as HTMLInputElement).files as FileList)[0].name\n        : (e as HTMLInputElement).value,\n    ]);\n  return Object.fromEntries(list);\n}\n\nexport function handleFormCategories_GUEST(selectForm: HTMLSelectElement): ICategory[] {\n  return Array.from(selectForm.selectedOptions).map((optionEl) => ({\n    id: optionEl.value,\n    cname: optionEl.text,\n  }));\n}\n\nexport function handleFormCategories(selectForm: HTMLSelectElement): CategoryDTO[] {\n  return Array.from(selectForm.selectedOptions).map((optionEl) => ({\n    id: optionEl.value,\n  }));\n}\n","import api from \"!../../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n            import content from \"!!../../../../../../node_modules/css-loader/dist/cjs.js!./change-email.css\";\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nexport default content.locals || {};","import * as React from 'react';\nimport './change-email.css';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { changeEmail } from '../../../thunks';\nimport { ProfileForm } from '../../../../forms/profile-form/profile-form.component';\nimport { handleForm } from '../../../../forms/utils/utils';\nimport { selectUserErrors } from '../../../selectors';\n\nconst ChangeEmail = (): JSX.Element => {\n  const dispatch = useDispatch();\n  const errors = useSelector(selectUserErrors);\n  function onSubmit(event: React.FormEvent<HTMLFormElement>) {\n    event.preventDefault();\n    dispatch(changeEmail(handleForm(event.currentTarget.elements)));\n  }\n  return (\n    <div className='profile-changeform'>\n      <ProfileForm\n        onSubmit={onSubmit}\n        fields={{\n          inputs: {\n            inputx: {\n              type: 'email',\n              name: 'currentEmail',\n              pattern: new RegExp(/^\\w+([-+.']\\w+)*@\\w+([-.]\\w+)*\\.\\w+([-.]\\w+)*$/)\n                .toString()\n                .slice(1, -1),\n              required: true,\n              title: 'Provide a proper email',\n              minLength: 3,\n              maxLength: 256,\n              id: 'currentEmail',\n              placeholder: 'Current Email',\n            },\n            inputy: {\n              type: 'email',\n              name: 'newEmail',\n              id: 'newEmail',\n              placeholder: 'New Email',\n              pattern: new RegExp(/^\\w+([-+.']\\w+)*@\\w+([-.]\\w+)*\\.\\w+([-.]\\w+)*$/)\n                .toString()\n                .slice(1, -1),\n              required: true,\n              title: 'Provide a proper email',\n              minLength: 3,\n              maxLength: 256,\n            },\n          },\n          labels: {\n            head: 'Change Email',\n            submit: 'Submit',\n            labelx: 'Current Email',\n            labely: 'New Email',\n          },\n        }}\n      />\n      <p className='profile-warnings'>\n        {errors && errors?.statusCode === 401 ? 'Invalid credentials!' : null}\n      </p>\n    </div>\n  );\n};\n\nexport default ChangeEmail;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../../node_modules/css-loader/dist/runtime/cssWithMappingToString.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".profile-form {\\n  font-family: 'Montserrat';\\n  position: relative;\\n  padding: 2.5rem;\\n  background-color: #232946;\\n}\\n\\n.profile-form h1 {\\n  color: #f5f5f5;\\n  font-size: 2.4rem;\\n  z-index: 9;\\n  margin-bottom: 1rem;\\n}\\n\\n.profile-form label {\\n  line-height: 1;\\n  display: block;\\n  color: #f5f5f5;\\n  font-size: 1rem;\\n  font-weight: 300;\\n  margin: 0.5rem 0rem 0.5rem 0rem;\\n}\\n\\n.profile-form input {\\n  font-family: 'Montserrat', sans-serif;\\n  width: 100%;\\n  font-size: 1rem;\\n  padding: .8rem;\\n  margin-bottom: 1rem;\\n  border-radius: 4px;\\n  border: none;\\n  outline: 0;\\n}\\n\\n.profile-form button[type=submit] {\\n  width: 100%;\\n  font-family: 'Roboto', sans-serif;\\n  font-size: 1em;\\n  background: #f5f5f5;\\n  color: #131313;\\n  outline: 0;\\n  border: 0;\\n  border: none;\\n  margin-top: 1em;\\n  padding: 15px;\\n  letter-spacing: 1px;\\n  cursor: pointer;\\n  transition: all .5s;\\n}\\n\\n.profile-form button[type=submit]:hover {\\n  background: #dbdbdb;\\n}\\n\\n.profile-form .warning-text {\\n  display: none;\\n  font-size: 1rem;\\n  color: #ff8906;\\n  margin: 1px 0px 10px 0px;\\n}\\n\\n@media (max-width: 620px) {\\n  .profile-form {\\n    height: inherit;\\n    width: 100%;\\n  }\\n}\\n\", \"\",{\"version\":3,\"sources\":[\"webpack://./src/features/forms/profile-form/profile-form.css\"],\"names\":[],\"mappings\":\"AAAA;EACE,yBAAyB;EACzB,kBAAkB;EAClB,eAAe;EACf,yBAAyB;AAC3B;;AAEA;EACE,cAAc;EACd,iBAAiB;EACjB,UAAU;EACV,mBAAmB;AACrB;;AAEA;EACE,cAAc;EACd,cAAc;EACd,cAAc;EACd,eAAe;EACf,gBAAgB;EAChB,+BAA+B;AACjC;;AAEA;EACE,qCAAqC;EACrC,WAAW;EACX,eAAe;EACf,cAAc;EACd,mBAAmB;EACnB,kBAAkB;EAClB,YAAY;EACZ,UAAU;AACZ;;AAEA;EACE,WAAW;EACX,iCAAiC;EACjC,cAAc;EACd,mBAAmB;EACnB,cAAc;EACd,UAAU;EACV,SAAS;EACT,YAAY;EACZ,eAAe;EACf,aAAa;EACb,mBAAmB;EACnB,eAAe;EACf,mBAAmB;AACrB;;AAEA;EACE,mBAAmB;AACrB;;AAEA;EACE,aAAa;EACb,eAAe;EACf,cAAc;EACd,wBAAwB;AAC1B;;AAEA;EACE;IACE,eAAe;IACf,WAAW;EACb;AACF\",\"sourcesContent\":[\".profile-form {\\n  font-family: 'Montserrat';\\n  position: relative;\\n  padding: 2.5rem;\\n  background-color: #232946;\\n}\\n\\n.profile-form h1 {\\n  color: #f5f5f5;\\n  font-size: 2.4rem;\\n  z-index: 9;\\n  margin-bottom: 1rem;\\n}\\n\\n.profile-form label {\\n  line-height: 1;\\n  display: block;\\n  color: #f5f5f5;\\n  font-size: 1rem;\\n  font-weight: 300;\\n  margin: 0.5rem 0rem 0.5rem 0rem;\\n}\\n\\n.profile-form input {\\n  font-family: 'Montserrat', sans-serif;\\n  width: 100%;\\n  font-size: 1rem;\\n  padding: .8rem;\\n  margin-bottom: 1rem;\\n  border-radius: 4px;\\n  border: none;\\n  outline: 0;\\n}\\n\\n.profile-form button[type=submit] {\\n  width: 100%;\\n  font-family: 'Roboto', sans-serif;\\n  font-size: 1em;\\n  background: #f5f5f5;\\n  color: #131313;\\n  outline: 0;\\n  border: 0;\\n  border: none;\\n  margin-top: 1em;\\n  padding: 15px;\\n  letter-spacing: 1px;\\n  cursor: pointer;\\n  transition: all .5s;\\n}\\n\\n.profile-form button[type=submit]:hover {\\n  background: #dbdbdb;\\n}\\n\\n.profile-form .warning-text {\\n  display: none;\\n  font-size: 1rem;\\n  color: #ff8906;\\n  margin: 1px 0px 10px 0px;\\n}\\n\\n@media (max-width: 620px) {\\n  .profile-form {\\n    height: inherit;\\n    width: 100%;\\n  }\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../../../../node_modules/css-loader/dist/runtime/cssWithMappingToString.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".profile-changeform {\\n  position: relative;\\n  height: 85%;\\n  width: 75%;\\n  background: white;\\n  display: flex;\\n  flex-direction: column;\\n  justify-content: center;\\n  align-items: center;\\n}\\n\\n.profile-changeform form {\\n  background-color: #f5f5f5;\\n}\\n\\n.profile-changeform form label {\\n  color: #131313\\n}\\n\\n.profile-changeform form h1 {\\n  color: black;\\n}\\n\\n.profile-changeform form button[type=submit] {\\n  border: 1px solid #131313;\\n}\\n\\n@media (max-width: 620px) {\\n  .profile-changeform {\\n    height: 100%;\\n    width: 100%;\\n  }\\n}\\n\", \"\",{\"version\":3,\"sources\":[\"webpack://./src/features/user/profile-dashboard/profile-components/change-email/change-email.css\"],\"names\":[],\"mappings\":\"AAAA;EACE,kBAAkB;EAClB,WAAW;EACX,UAAU;EACV,iBAAiB;EACjB,aAAa;EACb,sBAAsB;EACtB,uBAAuB;EACvB,mBAAmB;AACrB;;AAEA;EACE,yBAAyB;AAC3B;;AAEA;EACE;AACF;;AAEA;EACE,YAAY;AACd;;AAEA;EACE,yBAAyB;AAC3B;;AAEA;EACE;IACE,YAAY;IACZ,WAAW;EACb;AACF\",\"sourcesContent\":[\".profile-changeform {\\n  position: relative;\\n  height: 85%;\\n  width: 75%;\\n  background: white;\\n  display: flex;\\n  flex-direction: column;\\n  justify-content: center;\\n  align-items: center;\\n}\\n\\n.profile-changeform form {\\n  background-color: #f5f5f5;\\n}\\n\\n.profile-changeform form label {\\n  color: #131313\\n}\\n\\n.profile-changeform form h1 {\\n  color: black;\\n}\\n\\n.profile-changeform form button[type=submit] {\\n  border: 1px solid #131313;\\n}\\n\\n@media (max-width: 620px) {\\n  .profile-changeform {\\n    height: 100%;\\n    width: 100%;\\n  }\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n"],"names":["ProfileForm","fields","onSubmit","errors","useSelector","selectUserErrors","React","statusCode","message","error","warning","setWarning","input","updateInput","handleChange","event","target","name","value","length","className","id","labels","head","labelx","type","inputs","inputx","placeholder","minLength","maxLength","disabled","pattern","title","required","onChange","labely","inputy","FormWarning","submit","handleForm","nodelist","list","Array","from","filter","e","nodeName","multiple","map","files","Object","fromEntries","handleFormCategories_GUEST","selectForm","selectedOptions","optionEl","cname","text","handleFormCategories","dispatch","useDispatch","preventDefault","changeEmail","currentTarget","elements","RegExp","toString","slice","___CSS_LOADER_EXPORT___","push","module"],"sourceRoot":""}